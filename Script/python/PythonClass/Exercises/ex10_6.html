<html>
<head>
<title>Python Training Exercises - Exercise 10.6</title>
</head>

<body>
<h1>Exercise 10.6</h1>

<table width=600 bgcolor="#e0e0ff" border=1 cellpadding=20>
<tr>
<td>
<b>Objectives:</b>
<ul>
<li>Learn how to create a Python package.
</ul>
</td>
</tr>
</table>

<p>A Python package is simply a collection of <tt>.py</tt> files in a
directory.  Let's create a simple package.  Follow these instructions
carefully.

<p>
First, select "Restart Shell" option of IDLE to get a fresh Python
session.  Then make sure you're running in the <tt>PythonClass</tt> directory:

<blockquote>
<pre>
>>> <b>import os</b>
>>> <b>os.getcwd()</b>
'/Users/yourname/Desktop/PythonClass'
>>>
</pre>
</blockquote>

<p>
Make a new directory for your package based on your last name. For example:

<blockquote>
<pre>
>>> <b>os.mkdir("yourname")</b>
>>>
</pre>
</blockquote>

Now, copy some of your Python files into the package:

<blockquote>
<pre>
>>> <b>import shutil</b>
>>> <b>shutil.copy("fieldparse.py","yourname/fieldparse.py")</b>
>>> <b>shutil.copy("stock.py","yourname/stock.py")</b>
>>> <b>shutil.copy("report.py","yourname/report.py")</b>
>>>
</pre>
</blockquote>

Now, try importing a package subcomponent:

<blockquote>
<pre>
>>> <b>import yourname.fieldparse</b>
Traceback (most recent call last):
  File "<pyshell#16>", line 1, in <module>
    import yourname.fieldparse
ImportError: No module named yourname.fieldparse
>>> 
</pre>
</blockquote>

It doesn't work because you didn't create an <tt>__init__.py</tt> file.
Do that now by simply creating an empty file with that name:

<blockquote>
<pre>
>>> <b>open("yourname/__init__.py","w").close()</b>
>>>
</pre>
</blockquote>

Now, try importing a package subcomponent:

<blockquote>
<pre>
>>> <b>import yourname.fieldparse</b>
>>> <b>portfolio = yourname.fieldparse.parse(open("Data/portfolio.dat"),
                                             [str,int,float]) </b>
>>>
</pre>
</blockquote>

<p>
Discussion: Most third-party add ons to Python will be installed as
packages.  For the most part, you don't have to worry about it as a
user (you will simply use <tt>import</tt> statements to load package
components as needed).  If you are building packages yourself, there
are some tricky details you'll need to worry about which have not been
discussed here.  Reading the online documentation or getting a good
reference book would be advisable.

<hr>
[ <a href="index.html">Index</a> | <a
href="soln10_6.html">Solution</a>
| <a href="ex10_5.html">Back</a> | <a href="ex11_1.html">Next</a> ]
</body>
</html>
