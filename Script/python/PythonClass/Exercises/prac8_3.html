<html>
<head>
<title>Practicum - Exercise 8.3</title>
</head>

<body>
<h1>Practicum - Exercise 8.3</h1>

<p>
In <a href="ex3_2.html">exercise 3.2</a>, you wrote a file
<tt>fieldparse.py</tt> that contained a function
<tt>parse()</tt> that could parse column oriented data into a list of
tuples or dictionaries.
</p>

<p>
Modify the file so that it defines a function <tt>iterparse()</tt>
that properly supports iteration and stream processing.   For example:
</p>

<blockquote>
<pre>
>>> <b>import fieldparse</b>
>>> <b>import follow</b>
>>> <b>lines = follow.follow("Data/stocklog.dat")</b>
>>> <b>records = fieldparse.iterparse(lines,
                                  [str,float,str,str,float,float,float,float,int],
                                  ['name','price','date','time','change','open','high','low','volume'],
                                  sep=',')</b>
>>> <b>for r in records:
        print "%(name)10s %(price)10.2f %(change)10.2f" % r</b>

       UTX      69.72      -0.51
        GE      37.14      -0.18
       JPM      50.26      -0.15
      MSFT      29.96      -0.09
       HPQ      45.62      -0.08
       AXP      62.41      -0.63
...
</pre>
</blockquote>

<p>
In solving this problem, you should strive to make as few code
modifications as possible in <tt>fieldparse.py</tt>.  Try to reuse
your existing code as much as possible.   Hint:  Any iterator can be
turned into a list using the <tt>list()</tt> function.</p>

</body>
</html>
