<html>
<head>
<title>Python Training Exercises</title>
</head>

<body>
<h1>Exercise 9.2 - Solution</h1>

<p>
<b>(b) Encoding Unicode Characters in HTML Output</b>

<pre>
# recipe.py

ingredients = [
    u"Avocado",
    u"Tomato",
    u"Red Onion",
    u"Jalape\u00f1o pepper",
    u"Cilantro",
    u"Sea Salt",
]

header = u"""
&lt;html>
&lt;body>
"""

footer = u"""
&lt;/body>
&lt;/html>
"""

f = open("output.html","w")
f.write(header.encode('ascii'))
for item in ingredients:
    f.write("&lt;li>%s&lt;/li>\n" % item.encode('ascii','xmlcharrefreplace'))
f.write(footer.encode('ascii'))
f.close()

import webbrowser
import os
webbrowser.open("file:///"+os.path.abspath("output.html"))

</pre>

<hr>

<p>
Here is an alternative implementation:
</p>

<pre>
# recipe.py

ingredients = [
    u"Avocado",
    u"Tomato",
    u"Red Onion",
    u"Jalape\u00f1o pepper",
    u"Cilantro",
    u"Sea Salt",
]

header = u"""
&lt;html>
&lt;head>
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8">
&lt;/head>
&lt;body>
"""

footer = u"""
&lt;/body>
&lt;/html>
"""

import io

f = io.open("output.html","w",encoding="utf-8")
f.write(header)
for item in ingredients:
    f.write(u"&lt;li>%s&lt;/li>\n" % item)
f.write(footer)
f.close()

import webbrowser
import os
webbrowser.open("file:///"+os.path.abspath("output.html"))
</pre>


<hr>
[ <a href="ex9_2.html">Back</a> ]
</body>
</html>
